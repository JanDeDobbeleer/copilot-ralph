# Ralph

```txt
РађРађРађРађРађРађРБђРБцРБХРАХРбЏРаЪРА┐Ра╗Рб╗Рб┐РбХРбдРБёРАђРађРађРађРађРађРађРађРађРађРађ
РађРађРађРбђРБаРАЙРАФРбіРаїРАљРбАРаіРб░РаЂРАјРаўРАёРббРаЎРАЏРАиРбцРАђРађРађРађРађРађРађРађ
РађРађРбаРбфРбІРАъРбаРаЃРАюРађРајРађРаЅРађРаЃРађРаЃРађРаЃРаЎРаўРаіРб╗РадРађРађРађРађРађРађ
РађРађРбЄРАЄРАюРађРаюРађРаЂРађРбђРаћРаЅРаЅРаЉРаёРађРађРА░РаіРаЅРаЉРАёРАЄРађРађРађРађРађРађ
РађРађРАИРаДРаёРађРађРађРађРађРаўРАђРаЙРађРађРБИРађРађРбДРађРаЏРађРаїРАЄРађРађРађРађРађРађ
РађРаўРАЄРађРађРађРађРађРађРађРађРаЎРањРањРаџРаЂРаѕРаЅРа▓РАЇРањРаѕРађРАЄРађРађРађРађРађРађ
РађРађРаѕРа▓РБєРађРађРађРађРађРађРађРађРБаРаќРаЅРА╣РацРаХРаЂРађРађРађРаѕРбдРађРађРађРађРађ
РађРађРађРађРаѕРБдРАђРађРађРађРађРаДРБ┤РаЂРађРаўРаЊРб▓РБёРБђРБђРБђРАцРаћРаЃРађРађРађРађРађ
РађРађРађРађРБюРађРаѕРаЊРадРбёРБђРБђРБИРађРађРађРађРаЂРбѕРбЄРБ╝РАЂРађРађРађРађРађРађРађРађ
РађРађРбаРањРаЏРа▓РБёРађРађРађРБаРаЈРађРаЅРа▓РБцРађРбИРаІРб╗РБцРАЏРБёРађРађРађРађРађРађРађ
РађРађРбАРађРађРађРађРаЅРб▓РаЙРаЂРађРађРађРађРаѕРб│РАЙРБцРаЪРаЂРа╣РБ┐РбєРађРађРађРађРађРађ
РађРбђРа╝РБєРађРађРађРађРађРађРађРађРађРађРађРађРБ╝РаЃРађРађРађРађРађРаѕРБДРађРађРађРађРађ
РађРАЈРађРаўРбдРАђРађРађРађРађРађРађРађРађРБаРаъРаЂРађРађРађРађРађРађРађРбИРБДРађРађРађРађ
Рб░РБёРађРађРађРаЅРа│РадРБцРБцРАцРа┤РаќРаІРаЂРађРађРађРађРађРађРађРађРађРађРб»РБєРађРађРађ
РбИРБЅРаЅРаЊРа▓РбдРБцРБёРБђРБђРађРађРађРађРађРађРађРађРађРађРбђРБђРБђРБђРБаРБ╝Рб╣РАёРађРађ
РаўРАЇРаЎРањРаХРбцРБёРБѕРБЅРАЅРаЅРаЅРаЏРаЏРаЏРаЏРаЏРаЏРб╗РаЅРаЅРаЅРбЎРБЈРБЂРБИРаЄРАЄРађРађ
РађРбБРађРађРађРађРађРађРаЅРаЅРаЅРаЎРаЏРаЏРаЏРаЏРаЏРаЏРаЏРањРањРањРаІРаЅРађРаИРаџРбЄРађРађ
РађРађРбДРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРбаРаЄРбцРБеРаЄРађ
РађРађРађРбДРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРБцРб╗РАђРБИРађРађРађ
РађРађРађРбИРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРађРб╣РаЏРаЅРаЂРађРађРађ
РађРађРађРбИРађРађРађРађРађРађРађРађРбаРбёРБђРБцРацРа┤РањРађРађРађРађРбИРађРађРађРађРађРађ
РађРађРађРбИРађРађРађРађРађРађРађРађРАЄРађРађРбИРађРађРађРађРађРађРађРаўРАєРађРађРађРађРађ
РађРађРађРАјРађРађРађРађРађРађРађРађРбиРађРађРбИРађРађРађРађРађРађРађРађРАЄРађРађРађРађРађ
РађРађРбђРАиРбцРБцРБђРБђРБђРБђРБаРацРаЙРБцРБђРАўРаЏРаХРаХРаХРаХРаќРањРаІРаЎРаЊРа▓РбцРБђРађ
РађРађРаўРаДРБђРАђРаѕРаЅРаЅРаЂРађРађРађРађРаѕРаЎРа│РБцРБёРБђРБђРБђРађРађРађРађРађРбђРБѕРАЄ
РађРађРађРађРађРаЅРаЏРа▓РацРацРбцРБцРБёРБђРБђРБђРБђРАИРаЄРађРађРађРаЅРаЅРаЅРаЅРаЅРаЅРаЂРађ
```

Iterative AI Development Loop Tool

> Ralph implements the "Ralph Wiggum" technique for self-referential AI development loops using GitHub Copilot. It continuously feeds prompts to AI, monitoring for completion signals, with each iteration building on previous work until the task is done.

## Features

Рюе **Iterative AI Loops** - Run multiple AI iterations until task completion
РџЎ№ИЈ **Flexible Configuration** - Configure loops via command-line flags
­Ъцќ **GitHub Copilot Integration** - Powered by GitHub Copilot SDK
 **Real-time Event Streaming** - Watch iteration progress and tool execution­ЪЏа№ИЈ **Tool Execution** - AI can read files, run commands, and make changes
РЈ▒№ИЈ **Timeout Controls** - Prevent runaway loops with safety limits­ЪЏа№ИЈ **Tool Execution** - AI can read files, run commands, and make changes
РЈ▒№ИЈ **Timeout Controls** - Prevent runaway loops with safety limits

## Quick Start

### Installation

```bash
# From source (requires Go 1.22+)
go install github.com/JanDeDobbeleer/copilot-ralph/cmd/ralph@latest

# Or build from source
git clone https://github.com/JanDeDobbeleer/copilot-ralph.git
cd copilot-ralph
make build
```

### Usage

```bash
# Run an AI development loop
ralph run "Add unit tests for the parser module"

# Use a Markdown file as the prompt
ralph run task_description.md

# With options
ralph run --max-iterations 5 --timeout 10m "Refactor authentication"

# Custom model and settings
ralph run \
  --model gpt-4-turbo \
  --promise "Task complete!" \
  --streaming=true \
  "Implement user authentication"
```

## How It Works

1. **Initialize** - Ralph parses your prompt and configuration (max iterations, timeout)
2. **Setup** - Create SDK client and loop engine with system prompt
3. **Listen** - Start event listener to display progress in real-time
4. **Loop** - For each iteration:
   - Send prompt to Copilot AI
   - Stream AI response to stdout
   - Execute any tools the AI invokes (read files, run commands, etc.)
5. **Complete** - Loop exits when:
   - Max iterations reached РюЊ Complete
   - Timeout exceeded РюЌ Timeout
   - Error occurs РюЌ Failed
   - User cancels (Ctrl+C) РюЌ Cancelled
6. **Summary** - Display final status, iteration count, and duration

```text
РћїРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћљ
Рћѓ   Config &   Рћѓ
Рћѓ   Prompt     Рћѓ
РћћРћђРћђРћђРћђРћђРћђРћгРћђРћђРћђРћђРћђРћђРћђРћў
       Рћѓ
       v
РћїРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћљ      РћїРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћљ
Рћѓ  SDK Client      РћѓРћђРћђРћђРћђРћђ>Рћѓ  Copilot AI    Рћѓ
Рћѓ  Loop Engine     Рћѓ      Рћѓ  (per iteration)Рћѓ
РћћРћђРћђРћђРћђРћђРћђРћгРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћў      РћћРћђРћђРћђРћђРћђРћђРћђРћђРћгРћђРћђРћђРћђРћђРћђРћђРћў
       Рћѓ                           Рћѓ
       v                           v
РћїРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћљ      РћїРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћљ
Рћѓ  Event Listener  Рћѓ<РћђРћђРћђРћђРћђРћѓ  Tools Execute Рћѓ
Рћѓ  (Display)       Рћѓ      Рћѓ  (file ops,etc)Рћѓ
РћћРћђРћђРћђРћђРћђРћђРћгРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћў      РћћРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћў
       Рћѓ                           Рћѓ
       РћћРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћђРћў
              Рћѓ
              v
         РюЊ Complete (or timeout/error)
```

## Commands

### `ralph run`

Run an AI development loop.

```bash
# Direct prompt
ralph run "Add comprehensive error handling"

# Using a Markdown file as prompt
ralph run task_description.md

# With flags
ralph run \
  --max-iterations 20 \
  --timeout 1h \
  --model gpt-4-turbo \
  --log-level debug \
  "Implement user authentication"

# Dry run (show what would happen)
ralph run --dry-run "Refactor database layer"

# With custom system message
ralph run \
  --system-message "You are an expert Go developer" \
  --system-message-mode replace \
  "Optimize the code"
```

Available flags:

- `--max-iterations, -m` - Maximum loop iterations (default: 10)
- `--timeout, -t` - Maximum loop runtime (default: 30m)
- `--promise` - Completion promise phrase (default: "I'm special!")
- `--model` - AI model to use (default: gpt-4)
- `--working-dir` - Working directory (default: current)
- `--log-level` - Log level: debug, info, warn, error (default: info)
- `--streaming` - Enable streaming responses (default: true)
- `--system-message` - Custom system message
- `--system-message-mode` - append or replace (default: append)
- `--dry-run` - Show configuration without running

### `ralph version`

Show version information.

```bash
ralph version
```

## Configuration

Ralph is configured entirely through command-line flags with sensible defaults. All settings can be customized per run:

- **Command-line flags** - All configuration via CLI flags
- **Default values** - Sensible defaults for all options

Common flags:

- `--max-iterations 10` - Maximum iterations before stopping
- `--timeout 30m` - Maximum runtime
- `--model gpt-4` - AI model to use
- `--promise "I'm special!"` - Completion phrase
- `--log-level info` - Logging verbosity
- `--streaming true` - Enable streaming responses

Run `ralph run --help` for all available options.

## Development

### Prerequisites

- Go 1.24 or later
- GitHub Copilot access
- Git

### Building

```bash
# Install dependencies
go mod download

# Build
make build

# Run tests
make test

# Run linter
make lint

# All checks (tidy, lint, test, build)
make all
```

## Architecture

Ralph is organized into distinct layers:

```text
CLI Layer (cmd/ralph, internal/cli)
    Рћѓ Commands, flags, validation
    РєЊ
TUI Layer (internal/tui)
    Рћѓ Terminal UI, user interaction
    РєЊ
Core Layer (internal/core)
    Рћѓ Loop engine, business logic
    РєЊ
SDK Layer (internal/sdk)
    Рћѓ Copilot integration
    РєЊ
GitHub Copilot API
```

See [AGENTS.md](./AGENTS.md) for detailed architecture documentation.

## Contributing

Contributions are welcome! Please:

1. Read [AGENTS.md](./AGENTS.md) for development guidelines
2. Follow the spec-driven development approach
3. Ensure tests pass and code is formatted
4. Submit a pull request with clear description

## License

MIT License - see [LICENSE](./LICENSE) for details

## Acknowledgments

- Inspired by the [Ralph Wiggum plugin](https://github.com/anthropics/claude-code/tree/main/plugins/ralph-wiggum) for Claude
- Built with [GitHub Copilot SDK](https://github.com/github/copilot-sdk)
- UI powered by [Charm Bracelet](https://github.com/charmbracelet) tools

## Project Status

­ЪџД **Early Development** - Ralph is in active development. Core features are being implemented.

## Support

- **Issues:** [GitHub Issues](https://github.com/JanDeDobbeleer/copilot-ralph/issues)
- **Discussions:** [GitHub Discussions](https://github.com/JanDeDobbeleer/copilot-ralph/discussions)
